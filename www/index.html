<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="initial-scale=1, user-scalable=no">
<title>AppToDate</title>
<!-- define CSS -->
<link href="css/custom-theme.css" rel="stylesheet">
<link href="css/custom.css" rel="stylesheet">
<link href="css/style.css" rel="stylesheet">
<script src="js/database.js"></script>
<script src="js/config.js"></script>

<script
	src="js/vendor/jquery.min.js"></script>
<script src='js/fullcalendar-2.0.0/lib/moment.min.js'
	type="text/javascript"></script>
<script src='js/fullcalendar-2.0.0/lib/jquery-ui.custom.min.js'
	type="text/javascript"></script>
<script src='js/fullcalendar-2.0.0/fullcalendar.js'></script>

<script src="lib/ionic/js/ionic.bundle.js"></script>

<!-- <script src="lib/ionic/js/jquery-1.10.1.min.js"></script> -->
<script src="cordova.js"></script>
<script type="text/javascript" src="smsplugin.js"></script>
<script src="js/app.js"></script>
<script src="js/Controllers/controllers.js"></script>
<script src="js/Directives/directives.js"></script>
<script src="js/Directives/filters.js"></script>
<script src="js/Services/services.js"></script>

<!-- Services -->
<script src="js/Services/http-resource.js"></script>
<script src="js/Services/loader-service.js"></script>
<script src="js/Services/oauth-login-service.js"></script>
<script src="js/Services/login-service.js"></script>
<script src="js/Services/register-service.js"></script>
<script src="js/Services/image-service.js"></script>
<script src="js/Services/event-service.js"></script>

<!-- Controllers -->
<script src="js/Controllers/calendar-controller.js"></script>
<script src="js/Controllers/group-controller.js"></script>
<script src="js/Controllers/invite-people-controller.js"></script>
<script src="js/Controllers/login-controller.js"></script>
<script src="js/Controllers/register-controller.js"></script>
<script src="js/Controllers/home-controller.js"></script>
<script src="js/Controllers/profile-pic-controller.js"></script>
<script src="js/Controllers/create-event-controller.js"></script>

<script type="text/javascript">
	var DB = new AppToDate();
	$(document).ready(function() {
		console.log(DB);
		DB.init();
	});
</script>
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->

</head>
<body ng-app="AppToDate" animation="slide-left-right-ios7"
	data-ng-controller="parentController">
	<nav data-ng-show="userDetails">
		<!--Top Navigation -->
		<div class="navbar navbar-inverse">
			<div class="container padding-none">
				<div class="navbar-header">
					<div class="navBar-right navbar-toggle collapsed"
						data-target=".navbar-collapse" data-toggle="collapse"></div>
					<a href="#" class="navbar-brand btn-back text-center">Back</a> <a
						href="#" class="navbar-brand btn-home text-center">Home</a>
					<h4 class="navbar-heading text-center">Events</h4>

				</div>
				<div class="navbar-collapse collapse" style="height: 1px;">
					<ul class="nav navbar-nav top-nav">
						<li><div class="profile-pic">
								<img class="img-responsive" ng-src="{{imageSrc}}"
									alt="" />
							</div>
							<a href="#/home">{{userDetails.first_name}}</a></li>
						<li><div class="profile-pic no-border">
								<img class="img-responsive" ng-src="{{imageSrc}}" alt="" />
							</div>
							<a href="#/profile">Profile</a></li>

					</ul>
				</div>
				<!--/.nav-collapse -->
			</div>
		</div>
	</nav>
	<ion-nav-view></ion-nav-view>
	<!-- jQuery Framework-->
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/main.js"></script>
	<script src="js/vendor/fb_sdk.js"></script>
	<script>
		//window.fbAsyncInit = function() {
		FB.init({
			appId : '1498111297089653',
			cookie : true, // enable cookies to allow the server to access 
			// the session
			xfbml : true, // parse social plugins on this page
			version : 'v2.0' // use version 2.0
		});
		//};

		//(function(d, s, id) {
		// var js, fjs = d.getElementsByTagName(s)[0];
		//if (d.getElementById(id)) return;
		//js = d.createElement(s); js.id = id;
		//js.src = "//connect.facebook.net/en_US/sdk.js";
		//fjs.parentNode.insertBefore(js, fjs);
		//}(document, 'script', 'facebook-jssdk'));

		FB.getLoginStatus(function(response) {
			statusChangeCallback(response);
		});

		function statusChangeCallback(response) {
			console.log('statusChangeCallback');
			console.log(response);
			// The response object is returned with a status field that lets the
			// app know the current login status of the person.
			// Full docs on the response object can be found in the documentation
			// for FB.getLoginStatus().
			if (response.status === 'connected') {
				console.log('FB connected');
				//$location.path('/profile');
				window.location = 'http://localhost/#/profile';
				// Logged into your app and Facebook.
				//testAPI();
			} else if (response.status === 'not_authorized') {
				// The person is logged into Facebook, but not your app.
				console.log('FB not_authorized');
			} else {
				// The person is not logged into Facebook, so we're not sure if
				// they are logged into this app or not.
				//document.getElementById('status').innerHTML = 'Please log ' +
				//'into Facebook.';
			}
		}
	</script>
</body>
</html>